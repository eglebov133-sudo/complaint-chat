# üìã –ü–æ–º–æ—â–Ω–∏–∫ –ø–æ –∂–∞–ª–æ–±–∞–º

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∂–∞–ª–æ–± –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã –†–æ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π —á–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

![Python](https://img.shields.io/badge/Python-3.9+-blue)
![Flask](https://img.shields.io/badge/Flask-3.0-green)
![License](https://img.shields.io/badge/License-MIT-yellow)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üí¨ **–ß–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî –æ–±—â–µ–Ω–∏–µ —Å –±–æ—Ç–æ–º –∫–∞–∫ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ
- üéØ **–£–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏** ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –∫–Ω–æ–ø–∫–∞–º–∏
- ü§ñ **AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏ –≥—Ä–∞–º–æ—Ç–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∂–∞–ª–æ–±—ã
- üìß **–û—Ç–ø—Ä–∞–≤–∫–∞ email** ‚Äî –∂–∞–ª–æ–±–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –≥–æ—Å–æ—Ä–≥–∞–Ω–æ–≤
- üíæ **–ß–µ—Ä–Ω–æ–≤–∏–∫–∏** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–µ
- ‚¨ÖÔ∏è **–ù–∞–≤–∏–≥–∞—Ü–∏—è** ‚Äî –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
cd complaint-chat

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ .env
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env, –¥–æ–±–∞–≤–∏–≤ —Å–≤–æ–∏ API –∫–ª—é—á–∏

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
python app.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000

### –ó–∞–ø—É—Å–∫ –Ω–∞ Replit

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Repl ‚Üí Import from GitHub
2. –î–æ–±–∞–≤—å—Ç–µ Secrets (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env.example`)
3. –ù–∞–∂–º–∏—Ç–µ Run

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### API –∫–ª—é—á–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```env
# OpenRouter API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞
OPENROUTER_API_KEY=sk-or-v1-...

# SMTP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email (Gmail)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π:

1. **OpenRouter** ‚Äî –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [openrouter.ai](https://openrouter.ai), —Å–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á
2. **Gmail** ‚Äî –≤–∫–ª—é—á–∏—Ç–µ 2FA, —Å–æ–∑–¥–∞–π—Ç–µ [App Password](https://myaccount.google.com/apppasswords)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
complaint-chat/
‚îú‚îÄ‚îÄ app.py                 # Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example           # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .replit                # –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è Replit
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ recipients.py      # –ë–∞–∑–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –∂–∞–ª–æ–±
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ dialog_service.py  # –õ–æ–≥–∏–∫–∞ –¥–∏–∞–ª–æ–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ llm_service.py     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM
‚îÇ   ‚îî‚îÄ‚îÄ email_service.py   # –û—Ç–ø—Ä–∞–≤–∫–∞ email
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html         # HTML —à–∞–±–ª–æ–Ω
‚îî‚îÄ‚îÄ static/
    ‚îú‚îÄ‚îÄ css/style.css      # –°—Ç–∏–ª–∏
    ‚îî‚îÄ‚îÄ js/chat.js         # JavaScript
```

## üîß API Endpoints

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/` | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ |
| GET | `/api/state` | –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ |
| POST | `/api/chat` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ |
| POST | `/api/back` | –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —à–∞–≥ –Ω–∞–∑–∞–¥ |
| POST | `/api/restart` | –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ |
| POST | `/api/save-draft` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫ |
| GET | `/draft/<id>` | –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫ |
| POST | `/api/send` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É |

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- Rate limiting: 60 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω (–æ–±—â–∏–µ), 5/–º–∏–Ω (–æ—Ç–ø—Ä–∞–≤–∫–∞)
- –°–µ—Å—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (—Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
- –ù–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
